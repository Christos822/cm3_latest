# 1 "arch/arm64/boot/dts/rockchip/overlays/rk3399-radxa-25w-poe.dts"
# 1 "<built-in>"
# 1 "<command-line>"
# 1 "arch/arm64/boot/dts/rockchip/overlays/rk3399-radxa-25w-poe.dts"
/dts-v1/;
/plugin/;

# 1 "./scripts/dtc/include-prefixes/dt-bindings/gpio/gpio.h" 1
# 5 "arch/arm64/boot/dts/rockchip/overlays/rk3399-radxa-25w-poe.dts" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/pinctrl/rockchip.h" 1
# 6 "arch/arm64/boot/dts/rockchip/overlays/rk3399-radxa-25w-poe.dts" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/pwm/pwm.h" 1
# 7 "arch/arm64/boot/dts/rockchip/overlays/rk3399-radxa-25w-poe.dts" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/thermal/thermal.h" 1
# 8 "arch/arm64/boot/dts/rockchip/overlays/rk3399-radxa-25w-poe.dts" 2

/ {
 metadata {
  title = "Enable Radxa 25W PoE+ HAT";
  category = "misc";
  compatible = "radxa,rock-4c-plus";
  description = "Enable Radxa 25W PoE+ HAT.";
  exclusive = "GPIO2_B3", "GPIO2_B4";
  package = "rsetup-config-thermal-governor-step-wise";
 };
};

&{/} {
 radxa_pow_w1: radxa-poe-w1 {
  compatible = "w1-gpio";
  gpios = <&gpio2 11 0>;
  status = "okay";
 };

 radxa_poe_pwm: radxa-poe-pwm {
  compatible = "pwm-gpio";
  #pwm-cells = <3>;
  pwm-gpio = <&gpio2 12 0>;
 };

 radxa_poe_fan: radxa-poe-fan {
  compatible = "pwm-fan";
  #cooling-cells = <2>;
  cooling-min-state = <0>;
  cooling-max-state = <4>;
  cooling-levels = <0 64 128 192 255>;
  pwms = <&radxa_poe_pwm 0 40000 (1 << 0)>;
 };
};

&soc_thermal {
 cooling-maps {
  map3 {
   cooling-device = <&fan0 (~0) (~0)>,
        <&radxa_poe_fan (~0) (~0)>;
  };
  map4 {
   cooling-device = <&fan0 (~0) (~0)>,
        <&radxa_poe_fan (~0) (~0)>;
  };
 };
};
