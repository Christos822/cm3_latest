# 1 "arch/arm64/boot/dts/rockchip/overlays/rk3568-spi3-m0-cs0-waveshare35.dts"
# 1 "<built-in>"
# 1 "<command-line>"
# 1 "arch/arm64/boot/dts/rockchip/overlays/rk3568-spi3-m0-cs0-waveshare35.dts"

# 1 "arch/arm64/boot/dts/rockchip/overlays/waveshare35-lcd.dtsi" 1



# 1 "./scripts/dtc/include-prefixes/dt-bindings/gpio/gpio.h" 1
# 5 "arch/arm64/boot/dts/rockchip/overlays/waveshare35-lcd.dtsi" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/pinctrl/rockchip.h" 1
# 6 "arch/arm64/boot/dts/rockchip/overlays/waveshare35-lcd.dtsi" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/interrupt-controller/irq.h" 1
# 7 "arch/arm64/boot/dts/rockchip/overlays/waveshare35-lcd.dtsi" 2

/dts-v1/;
/plugin/;





&spi3 {
 status = "okay";
 #address-cells = <1>;
 #size-cells = <0>;

 ili9486: ili9486@0 {
  compatible = "ilitek,ili9486";
  reg = <0>;
  spi-max-frequency = <16000000>;
  txbuflen = <32768>;
  rotate = <90>;
  bgr = <0>;
  fps = <30>;
  buswidth = <8>;
  regwidth = <16>;
  debug = <0>;
 };

 ads7846: ads7846@1 {
  compatible = "ti,ads7846";
  status = "okay";
  reg = <1>;
  id = <1>;
  spi-max-frequency = <2000000>;
  ti,x-plate-ohms = /bits/ 16 <60>;
  ti,pressure-max = /bits/ 16 <255>;
  ti,swap-xy = <0>;
  ti,invert-y = <1>;
  vcc-supply = <&vcc5v0_sys>;
 };
};
# 3 "arch/arm64/boot/dts/rockchip/overlays/rk3568-spi3-m0-cs0-waveshare35.dts" 2

/ {
 metadata {
  title = "Enable Waveshare 3.5inch RPi LCD (C) on SPI3";
  compatible = "radxa,cm3-rpi-cm4-io";
  category = "misc";
  exclusive = "GPIO4_B0", "GPIO4_B2", "GPIO4_B3", "GPIO4_A6", "GPIO3_C6", "GPIO3_D3", "GPIO0_C7";
  description = "Enable Waveshare 3.5inch RPi LCD (C) on SPI3.";
 };
};

&spi3 {
 pinctrl-names = "default", "high_speed";
 pinctrl-0 = <&spi3m0_cs0 &spi3m0_pins>;
 pinctrl-1 = <&spi3m0_cs0 &spi3m0_pins_hs>;
};

&ili9486 {
 reset-gpios = <&gpio3 22 1>;
 dc-gpios = <&gpio3 27 0>;
};

&ads7846 {
 interrupts = <23 2>;
 interrupt-parent = <&gpio0>;
 pendown-gpio = <&gpio0 23 0>;
};
