# 1 "arch/arm64/boot/dts/rockchip/overlays/audioinjector-isolated-soundcard.dts"
# 1 "<built-in>"
# 1 "<command-line>"
# 1 "arch/arm64/boot/dts/rockchip/overlays/audioinjector-isolated-soundcard.dts"
/dts-v1/;
/plugin/;

# 1 "./scripts/dtc/include-prefixes/dt-bindings/gpio/gpio.h" 1
# 5 "arch/arm64/boot/dts/rockchip/overlays/audioinjector-isolated-soundcard.dts" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/pinctrl/rockchip.h" 1
# 6 "arch/arm64/boot/dts/rockchip/overlays/audioinjector-isolated-soundcard.dts" 2

/ {
 metadata {
  title = "Enable Audio Injector Isolated Soundcard";
  compatible = "unknown";
  category = "misc";
  description = "Enable Audio Injector Isolated Soundcard";
 };
};

&i2s3_2ch {
 status = "okay";
};

&{/} {
 cs4272_mclk: codec-mclk {
  compatible = "fixed-clock";
  #clock-cells = <0>;
  clock-frequency = <24576000>;
 };
};

&i2c3 {
 #address-cells = <1>;
 #size-cells = <0>;
 status = "okay";
 pinctrl-0 = <&i2c3m0_xfer>;

 cs4272: cs4272@10 {
  #sound-dai-cells = <0>;
  compatible = "cirrus,cs4271";
  reg = <0x10>;

  reset-gpio = <&gpio2 31 0>;
  clocks = <&cs4272_mclk>;
  clock-names = "mclk";
  status = "okay";
 };
};

&{/} {
 sound {
  compatible = "ai,audioinjector-isolated-soundcard";

  mute-gpios = <&gpio3 20 0>;
  i2s-controller = <&i2s3_2ch>;
  codec = <&cs4272>;
  status = "okay";
 };
};
