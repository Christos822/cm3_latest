# 1 "arch/arm64/boot/dts/rockchip/overlays/rock-3c-rpi-camera-v1p3.dts"
# 1 "<built-in>"
# 1 "<command-line>"
# 1 "arch/arm64/boot/dts/rockchip/overlays/rock-3c-rpi-camera-v1p3.dts"
/dts-v1/;
/plugin/;

# 1 "arch/arm64/boot/dts/rockchip/overlays/rock-3c-ov5647.dtsi" 1
# 1 "./scripts/dtc/include-prefixes/dt-bindings/gpio/gpio.h" 1
# 2 "arch/arm64/boot/dts/rockchip/overlays/rock-3c-ov5647.dtsi" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/pinctrl/rockchip.h" 1
# 3 "arch/arm64/boot/dts/rockchip/overlays/rock-3c-ov5647.dtsi" 2

&{/} {
 clk_cam_25m: external-camera-clock-25m {
  status = "okay";
  compatible = "fixed-clock";
  clock-frequency = <25000000>;
  clock-output-names = "clk_cam_25m";
  #clock-cells = <0>;
 };

 vcc_camera: vcc-camera {
  status = "okay";
  compatible = "regulator-fixed";
  regulator-name = "vcc_camera";
  gpio = <&gpio0 20 0>;
  enable-active-high;
  regulator-min-microvolt = <3300000>;
  regulator-max-microvolt = <3300000>;
  regulator-always-on;
  regulator-boot-on;
 };
};

&i2c2 {
 status = "okay";
 pinctrl-names = "default";
 pinctrl-0 = <&i2c2m1_xfer>;
 #address-cells = <1>;
 #size-cells = <0>;

 ov5647: ov5647@36 {
  status = "okay";
  compatible = "ovti,ov5647";
  reg = <0x36>;
  clocks = <&clk_cam_25m>;
  pwdn-gpios = <&gpio3 22 1>;
  clock-names = "ext_cam_clk";
  rockchip,camera-module-index = <0>;
  rockchip,camera-module-facing = "back";
  rockchip,camera-module-name = "OV5647";
  rockchip,camera-module-lens-name = "default";

  port {
   ucam_out0: endpoint {
    remote-endpoint = <&mipi_in_ucam0>;
    data-lanes = <1 2>;
   };
  };
 };
};

&csi2_dphy_hw {
 status = "okay";
};

&csi2_dphy0 {
 status = "okay";

 ports {
  #address-cells = <1>;
  #size-cells = <0>;

  port@0 {
   reg = <0>;
   #address-cells = <1>;
   #size-cells = <0>;

   mipi_in_ucam0: endpoint@1 {
    reg = <1>;
    remote-endpoint = <&ucam_out0>;
    data-lanes = <1 2>;
   };
  };

  port@1 {
   reg = <1>;
   #address-cells = <1>;
   #size-cells = <0>;

   dphy0_out: endpoint@1 {
    reg = <1>;
    remote-endpoint = <&isp0_in>;
   };
  };
 };
};

&rkisp_vir0 {
 status = "okay";

 port {
  #address-cells = <1>;
  #size-cells = <0>;

  isp0_in: endpoint@0 {
   reg = <0>;
   remote-endpoint = <&dphy0_out>;
  };
 };
};

&rkisp_vir0 {
 status = "okay";
};

&rkisp {
 status = "okay";
};

&rkisp_mmu {
 status = "okay";
};

&rkcif_mmu {
 status = "okay";
};

&rkcif {
 status = "okay";
};
# 5 "arch/arm64/boot/dts/rockchip/overlays/rock-3c-rpi-camera-v1p3.dts" 2

/ {
 metadata {
  title = "Enable Raspberry Pi Camera v1.3";
  compatible = "radxa,rock-3c";
  category = "camera";
  exclusive = "csi2_dphy0";
  description = "Enable Raspberry Pi Camera v1.3.";
 };
};

&ov5647 {
 rockchip,camera-module-name = "rpi-camera-v1p3";
};
